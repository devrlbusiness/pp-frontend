<h1 mat-dialog-title>
  <mat-icon color="primary">person_add</mat-icon>
  Registrar Nuevo Usuario
</h1>
<form [formGroup]="nuevoUsuarioFormGroup" (ngSubmit)="onSubmitForm(nuevoUsuarioFormGroup.value)">
  <mat-dialog-content align="center">
    <!-- nombre -->
    <mat-form-field hintLabel="Mín 3 y Máx 20 caracteres" appearance="standard">
      <mat-label>Nombre</mat-label>
      <input matInput type="text" maxlength="20" formControlName="nombre" placeholder="Escribir aquí" required>
      <mat-hint align="end">{{nombre.value?.length || 0}}/20</mat-hint>
      <mat-error *ngIf="nombre.invalid 
                            && 
                            (nombre.dirty || nombre.touched)">
        <div *ngIf="nombre.errors.required">
          El nombre del usuario es requerido!
        </div>
        <div *ngIf="nombre.errors.minlength">
          El nombre del usuario debe tener mínimo 3 caracteres!
        </div>
      </mat-error>
    </mat-form-field>
    &nbsp;
    <!-- primer_apellido -->
    <mat-form-field hintLabel="Mín 3 y Máx 20 caracteres" appearance="standard">
      <mat-label>Nombre y Apellidos</mat-label>
      <input matInput type="text" maxlength="20" formControlName="primer_apellido" placeholder="Escribir aquí" required>
      <mat-hint align="end">{{primer_apellido.value?.length || 0}}/20</mat-hint>
      <mat-error *ngIf="primer_apellido.invalid 
                            && 
                            (primer_apellido.dirty || primer_apellido.touched)">
        <div *ngIf="primer_apellido.errors.required">
          El primer apellido del usuario es requerido!
        </div>
        <div *ngIf="primer_apellido.errors.minlength">
          El primer apellido del usuario debe tener mínimo 3 caracteres!
        </div>
      </mat-error>
    </mat-form-field>
    &nbsp;
    <!-- segundo_apellido -->
    <mat-form-field hintLabel="Mín 3 y Máx 20 caracteres" appearance="standard">
      <mat-label>Nombre y Apellidos</mat-label>
      <input matInput type="text" maxlength="20" formControlName="segundo_apellido" placeholder="Escribir aquí" required>
      <mat-hint align="end">{{segundo_apellido.value?.length || 0}}/20</mat-hint>
      <mat-error *ngIf="segundo_apellido.invalid 
                            && 
                            (segundo_apellido.dirty || segundo_apellido.touched)">
        <div *ngIf="segundo_apellido.errors.required">
          El segundo apellido del usuario es requerido!
        </div>
        <div *ngIf="segundo_apellido.errors.minlength">
          El segundo apellido del usuario debe tener mínimo 3 caracteres!
        </div>
      </mat-error>
    </mat-form-field>
    <br>
    <!-- correo -->
    <mat-form-field class="fullWidth" hintLabel="Mín 3 y Máx 50 caracteres" appearance="standard">
      <mat-label>Correo</mat-label>
      <input matInput type="text" maxlength="50" formControlName="correo" placeholder="Escribir aquí" required>
      <mat-hint align="end">{{correo.value?.length || 0}}/50</mat-hint>
      <mat-error *ngIf="correo.invalid 
                        && 
                        (correo.dirty || correo.touched)">
        <div *ngIf="correo.errors.required">
          El correo es requerido!
        </div>
        <div *ngIf="correo.errors.email">
          El correo es inválido!
        </div>
      </mat-error>
    </mat-form-field>
    <br>
    <!-- contrasena -->
    <mat-form-field class="fullWidth" hintLabel="Mín 5 caracteres" appearance="standard">
      <mat-label>Contraseña</mat-label>
      <input matInput [type]="hide ? 'password' : 'text'" type="password" matInput formControlName="contrasena"
        required>
      <button type="button" mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'"
        [attr.aria-pressed]="hide">
        <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
      </button>
      <mat-error *ngIf="contrasena.invalid 
                          && 
                          (contrasena.dirty || contrasena.touched)">
        <div *ngIf="contrasena.errors.required">
          La contraseña es requerida!
        </div>
        <div *ngIf="contrasena.errors.minlength">
          La contraseña debe tener mínimo 5 caracteres!
        </div>
      </mat-error>
    </mat-form-field>
    <br>
    <!-- rol -->
    <mat-form-field appearance="standard">
      <mat-label>Rol</mat-label>
      <mat-select formControlName="rol" required>
        <mat-option value="Administrador">Administrador</mat-option>
      </mat-select>
      <mat-error *ngIf="rol.invalid 
                              && 
                            (rol.dirty || rol.touched)">
        <div *ngIf="rol.errors.required">
          El rol es requerido!
        </div>
      </mat-error>
    </mat-form-field>
  </mat-dialog-content>
  <mat-dialog-actions align="center">
    <mat-progress-bar *ngIf="isLoading" mode="indeterminate"></mat-progress-bar>
    <br>
    <button type="button" mat-raised-button color="warn" (click)="onClickCancelar()">Cancelar</button>
    &nbsp; &nbsp;
    <button type="submit" mat-raised-button [disabled]="!this.nuevoUsuarioFormGroup.valid || isLoading"
      color="primary">
      Guardar
      <mat-icon>save</mat-icon>
    </button>
  </mat-dialog-actions>
</form>